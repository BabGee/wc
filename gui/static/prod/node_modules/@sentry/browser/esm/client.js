import*as tslib_1 from"../../../tslib/tslib.es6.js";import{API,BaseClient}from"../../core/esm/index.js";import{getGlobalObject,logger}from"../../utils/esm/index.js";import{BrowserBackend}from"./backend.js";import{SDK_NAME,SDK_VERSION}from"./version.js";var BrowserClient=function(_super){tslib_1.__extends(BrowserClient,_super);function BrowserClient(options){if(void 0===options){options={}}return _super.call(this,BrowserBackend,options)||this}BrowserClient.prototype._prepareEvent=function(event,scope,hint){event.platform=event.platform||"javascript";event.sdk=tslib_1.__assign({},event.sdk,{name:SDK_NAME,packages:tslib_1.__spread(event.sdk&&event.sdk.packages||[],[{name:"npm:@sentry/browser",version:SDK_VERSION}]),version:SDK_VERSION});return _super.prototype._prepareEvent.call(this,event,scope,hint)};BrowserClient.prototype.showReportDialog=function(options){if(void 0===options){options={}}var document=getGlobalObject().document;if(!document){return}if(!this._isEnabled()){logger.error("Trying to call showReportDialog with Sentry Client is disabled");return}var dsn=options.dsn||this.getDsn();if(!options.eventId){logger.error("Missing `eventId` option in showReportDialog call");return}if(!dsn){logger.error("Missing `Dsn` option in showReportDialog call");return}var script=document.createElement("script");script.async=!0;script.src=new API(dsn).getReportDialogEndpoint(options);if(options.onLoad){script.onload=options.onLoad}(document.head||document.body).appendChild(script)};return BrowserClient}(BaseClient);export{BrowserClient};