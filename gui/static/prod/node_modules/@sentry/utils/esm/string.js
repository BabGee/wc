import{isRegExp}from"./is.js";export function truncate(str,max){if(void 0===max){max=0}if("string"!==typeof str||0===max){return str}return str.length<=max?str:str.substr(0,max)+"..."}export function snipLine(line,colno){var _Mathmax=Math.max,newLine=line,ll=newLine.length;if(150>=ll){return newLine}if(colno>ll){colno=ll}var start=_Mathmax(colno-60,0);if(5>start){start=0}var end=Math.min(start+140,ll);if(end>ll-5){end=ll}if(end===ll){start=_Mathmax(end-140,0)}newLine=newLine.slice(start,end);if(0<start){newLine="'{snip} "+newLine}if(end<ll){newLine+=" {snip}"}return newLine}export function safeJoin(input,delimiter){if(!Array.isArray(input)){return""}for(var output=[],i=0,value;i<input.length;i++){value=input[i];try{output.push(value+"")}catch(e){output.push("[value cannot be serialized]")}}return output.join(delimiter)}export function isMatchingPattern(value,pattern){if(isRegExp(pattern)){return pattern.test(value)}if("string"===typeof pattern){return-1!==value.indexOf(pattern)}return!1}