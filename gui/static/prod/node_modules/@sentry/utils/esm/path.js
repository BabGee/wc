function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1,last;0<=i;i--){last=parts[i];if("."===last){parts.splice(i,1)}else if(".."===last){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function splitPath(filename){var parts=splitPathRe.exec(filename);return parts?parts.slice(1):[]}export function resolve(){for(var args=[],_i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}for(var resolvedPath="",resolvedAbsolute=!1,i=args.length-1,path;-1<=i&&!resolvedAbsolute;i--){path=0<=i?args[i]:"/";if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute="/"===path.charAt(0)}resolvedPath=normalizeArray(resolvedPath.split("/").filter(function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."}function trim(arr){var start=0;for(;start<arr.length;start++){if(""!==arr[start]){break}}var end=arr.length-1;for(;0<=end;end--){if(""!==arr[end]){break}}if(start>end){return[]}return arr.slice(start,end-start+1)}export function relative(from,to){from=resolve(from).substr(1);to=resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}export function normalizePath(path){var isPathAbsolute=isAbsolute(path),trailingSlash="/"===path.substr(-1),normalizedPath=normalizeArray(path.split("/").filter(function(p){return!!p}),!isPathAbsolute).join("/");if(!normalizedPath&&!isPathAbsolute){normalizedPath="."}if(normalizedPath&&trailingSlash){normalizedPath+="/"}return(isPathAbsolute?"/":"")+normalizedPath}export function isAbsolute(path){return"/"===path.charAt(0)}export function join(){for(var args=[],_i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return normalizePath(args.join("/"))}export function dirname(path){var result=splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.substr(0,dir.length-1)}return root+dir}export function basename(path,ext){var f=splitPath(path)[2];if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f}