import{dataSourceMixin,BaseElement,utilsMixin,select,scaleBand,scaleLinear,max,axisBottom,axisLeft,css,html}from"../../../../../components/adaptive-ui.js";const ScatterPlotBase=class extends utilsMixin(dataSourceMixin(BaseElement)){constructor(){super()}static get is(){return"scatter-plot"}initScatterPlot(dsc){const rows=dsc.rows;let margin={top:10,right:30,bottom:40,left:50},width=520-margin.left-margin.right,height=520-margin.top-margin.bottom;const svg=select(this.qs(".chart")).append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")"),x=scaleBand().rangeRound([0,width]).padding(.1),y=scaleLinear().range([height,0]);x.domain(rows.map(function(d){return d[0]}));y.domain([0,max(rows,function(d){return d[4]})]).nice();svg.append("g").attr("transform","translate(0,"+height+")").call(axisBottom(x).tickSize(1.3*-height).ticks(10)).select(".domain").remove();svg.append("g").call(axisLeft(y).tickSize(1.3*-width).ticks(7)).select(".domain").remove();svg.append("g").selectAll("dot").data(rows).enter().append("circle").attr("cx",function(d){return x(d[0])}).attr("cy",function(d){return y(d[4])}).attr("r",5)}firstUpdated(changedProperties){super.firstUpdated(changedProperties);let self=this;this.loader.then(dsc=>{self.initScatterPlot(dsc)})}dscDataName(){return this.e.defaultValue}init(pElement,loader){super.init(pElement,loader);var self=this;self.loader=this.loadData()}};var scatterPlot={ScatterPlotBase:ScatterPlotBase};const ScatterPlotStyles=css`

`;var scatterPlotCss={ScatterPlotStyles:ScatterPlotStyles};class ScatterPlot extends ScatterPlotBase{static get styles(){return[ScatterPlotStyles,css` 
            :host{
                disply: block;
            }
            `]}renderDefault(){return html`
        <div class="chart"></div>
        `}}customElements.define(ScatterPlot.is,ScatterPlot);export{scatterPlot as $scatterPlot,scatterPlotCss as $scatterPlotCss,ScatterPlotBase,ScatterPlotStyles};